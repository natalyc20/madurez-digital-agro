<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evaluaci√≥n de Madurez Digital - Sector Agropecuario</title>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    </head>
<body class="p-0 m-0">
    <div id="root"></div>

    <script type="text/babel">
        // ADVERTENCIA: Este c√≥digo tiene imports (recharts, lucide-react) que fallar√°n en Babel Standalone.
        // La aplicaci√≥n no funcionar√° hasta que se eliminen o reemplacen esas dependencias.
        // Esto es un esqueleto de integraci√≥n para mostrarle c√≥mo vincular los archivos.

        // Inicio del contenido de MadurezDigitalAgro.jsx
        
import React, { useState } from 'react';
// Estos imports fallar√°n:
import { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, RadarChart, PolarGrid, PolarAngleAxis, PolarRadiusAxis, Radar } from 'recharts';
import { ChevronRight, ChevronLeft, Download, RefreshCw, TrendingUp, AlertCircle, CheckCircle, Award } from 'lucide-react';

const MadurezDigitalAgro = () => {
  const [currentStep, setCurrentStep] = useState(0);
  const [showResults, setShowResults] = useState(false);
  const [companyName, setCompanyName] = useState('');
  const [responses, setResponses] = useState({});

  const dimensions = [
    {
      id: 'produccion',
      name: 'Producci√≥n y Operaciones',
      icon: 'üåæ',
      color: '#10b981',
      questions: [
        {
          id: 'p1',
          text: '¬øC√≥mo registra actualmente sus actividades de campo?',
          options: [
            { value: 1, label: 'Papel y l√°piz, registros manuales' },
            { value: 2, label: 'Excel b√°sico, sin estructura clara' },
            { value: 3, label: 'Software agr√≠cola con registros digitales' },
            { value: 4, label: 'Sensores IoT y dashboards en tiempo real' },
            { value: 5, label: 'IA predictiva, agricultura de precisi√≥n completa' }
          ]
        },
        {
          id: 'p2',
          text: '¬øC√≥mo monitorea el estado de sus cultivos/ganado?',
          options: [
            { value: 1, label: 'Inspecci√≥n visual manual' },
            { value: 2, label: 'Reportes b√°sicos del personal' },
            { value: 3, label: 'Software de gesti√≥n con alertas' },
            { value: 4, label: 'Sensores, c√°maras, monitoreo remoto' },
            { value: 5, label: 'Drones, sat√©lites, an√°lisis con IA' }
          ]
        },
        {
          id: 'p3',
          text: '¬øC√≥mo controla el uso de agua, fertilizantes e insumos?',
          options: [
            { value: 1, label: 'Aplicaci√≥n manual sin medici√≥n' },
            { value: 2, label: 'Registros b√°sicos de consumo' },
            { value: 3, label: 'Sistemas de medici√≥n digital' },
            { value: 4, label: 'Riego automatizado, aplicaci√≥n variable' },
            { value: 5, label: 'Optimizaci√≥n con IA, prescripci√≥n por zonas' }
          ]
        },
        {
          id: 'p4',
          text: '¬øC√≥mo gestiona el mantenimiento de su maquinaria?',
          options: [
            { value: 1, label: 'Reactivo, cuando se da√±a' },
            { value: 2, label: 'Calendario b√°sico de mantenimiento' },
            { value: 3, label: 'Software de gesti√≥n de activos' },
            { value: 4, label: 'Telemetr√≠a, mantenimiento predictivo' },
            { value: 5, label: 'Maquinaria aut√≥noma, optimizaci√≥n con IA' }
          ]
        },
        {
          id: 'p5',
          text: '¬øPuede visualizar en tiempo real lo que sucede en su operaci√≥n?',
          options: [
            { value: 1, label: 'No, solo inspecciones peri√≥dicas' },
            { value: 2, label: 'Reportes diarios/semanales manuales' },
            { value: 3, label: 'Reportes digitales actualizados' },
            { value: 4, label: 'Dashboards en tiempo real' },
            { value: 5, label: 'Control total 24/7 desde cualquier lugar' }
          ]
        }
      ]
    },
    {
      id: 'datos',
      name: 'Datos y Anal√≠tica',
      icon: 'üìä',
      color: '#3b82f6',
      questions: [
        {
          id: 'd1',
          text: '¬øRegistra datos de producci√≥n, clima y costos sistem√°ticamente?',
          options: [
            { value: 1, label: 'No registro datos de forma sistem√°tica' },
            { value: 2, label: 'Algunos datos en planillas dispersas' },
            { value: 3, label: 'Captura digital estructurada' },
            { value: 4, label: 'Captura autom√°tica con sensores' },
            { value: 5, label: 'Captura multi-fuente integrada' }
          ]
        },
        {
          id: 'd2',
          text: '¬øQu√© porcentaje de sus datos est√° digitalizado?',
          options: [
            { value: 1, label: '0-20% (casi todo en papel)' },
            { value: 2, label: '21-40% (algunos datos digitales)' },
            { value: 3, label: '41-60% (la mayor√≠a digital)' },
            { value: 4, label: '61-80% (casi todo digital)' },
            { value: 5, label: '81-100% (100% digital)' }
          ]
        },
        {
          id: 'd3',
          text: '¬øAnaliza datos para tomar decisiones de producci√≥n?',
          options: [
            { value: 1, label: 'Decisiones por intuici√≥n/experiencia' },
            { value: 2, label: 'Reviso datos hist√≥ricos ocasionalmente' },
            { value: 3, label: 'An√°lisis de tendencias regular' },
            { value: 4, label: 'Modelos predictivos b√°sicos' },
            { value: 5, label: 'IA para optimizaci√≥n continua' }
          ]
        },
        {
          id: 'd4',
          text: '¬øPuede acceder a todos sus datos desde un solo lugar?',
          options: [
            { value: 1, label: 'Datos aislados en m√∫ltiples lugares' },
            { value: 2, label: 'Consolidaci√≥n manual ocasional' },
            { value: 3, label: 'Base de datos centralizada' },
            { value: 4, label: 'ERP agr√≠cola integrado' },
            { value: 5, label: 'Plataforma unificada con APIs' }
          ]
        },
        {
          id: 'd5',
          text: '¬øPuede predecir rendimientos, problemas o necesidades?',
          options: [
            { value: 1, label: 'No, solo reacciono a lo que pasa' },
            { value: 2, label: 'Estimaciones b√°sicas por experiencia' },
            { value: 3, label: 'Proyecciones con datos hist√≥ricos' },
            { value: 4, label: 'Modelos predictivos confiables' },
            { value: 5, label: 'IA con precisi√≥n alta en predicciones' }
          ]
        }
      ]
    },
    {
      id: 'trazabilidad',
      name: 'Trazabilidad y Cadena',
      icon: 'üîó',
      color: '#8b5cf6',
      questions: [
        {
          id: 't1',
          text: '¬øPuede rastrear un producto desde el origen hasta el cliente?',
          options: [
            { value: 1, label: 'No tengo sistema de trazabilidad' },
            { value: 2, label: 'Registros b√°sicos por lote en papel' },
            { value: 3, label: 'Trazabilidad digital por lote' },
            { value: 4, label: 'Trazabilidad unitaria con QR/RFID' },
            { value: 5, label: 'Blockchain, transparencia total' }
          ]
        },
        {
          id: 't2',
          text: '¬øSus clientes pueden verificar el origen de sus productos?',
          options: [
            { value: 1, label: 'No, no hay informaci√≥n disponible' },
            { value: 2, label: 'Informaci√≥n b√°sica si la solicitan' },
            { value: 3, label: 'Certificados digitales disponibles' },
            { value: 4, label: 'C√≥digo QR con informaci√≥n completa' },
            { value: 5, label: 'Plataforma de transparencia en tiempo real' }
          ]
        },
        {
          id: 't3',
          text: '¬øConoce en tiempo real sus niveles de inventario?',
          options: [
            { value: 1, label: 'Control visual, sin registros' },
            { value: 2, label: 'Inventarios manuales peri√≥dicos' },
            { value: 3, label: 'Sistema digital de inventarios' },
            { value: 4, label: 'Inventario en tiempo real automatizado' },
            { value: 5, label: 'Optimizaci√≥n predictiva de inventarios' }
          ]
        },
        {
          id: 't4',
          text: '¬øOptimiza digitalmente sus rutas de distribuci√≥n?',
          options: [
            { value: 1, label: 'Gesti√≥n manual sin planificaci√≥n' },
            { value: 2, label: 'Planificaci√≥n b√°sica en papel' },
            { value: 3, label: 'Software de gesti√≥n log√≠stica' },
            { value: 4, label: 'Optimizaci√≥n de rutas con GPS' },
            { value: 5, label: 'Log√≠stica predictiva automatizada' }
          ]
        },
        {
          id: 't5',
          text: '¬øPuede rastrear en tiempo real sus env√≠os?',
          options: [
            { value: 1, label: 'No, solo confirmo al entregar' },
            { value: 2, label: 'Llamadas telef√≥nicas al conductor' },
            { value: 3, label: 'Reporte al finalizar el d√≠a' },
            { value: 4, label: 'GPS tracking en tiempo real' },
            { value: 5, label: 'Plataforma completa con alertas' }
          ]
        }
      ]
    },
    {
      id: 'comercial',
      name: 'Comercializaci√≥n',
      icon: 'üíº',
      color: '#f59e0b',
      questions: [
        {
          id: 'c1',
          text: '¬øVende sus productos por canales digitales?',
          options: [
            { value: 1, label: 'Solo venta presencial/telef√≥nica' },
            { value: 2, label: 'Email y WhatsApp b√°sico' },
            { value: 3, label: 'P√°gina web informativa' },
            { value: 4, label: 'E-commerce propio o plataformas' },
            { value: 5, label: 'Omnicanal con marketplace y IA' }
          ]
        },
        {
          id: 'c2',
          text: '¬øQu√© porcentaje de sus ventas es digital?',
          options: [
            { value: 1, label: '0% (todo presencial)' },
            { value: 2, label: '1-25% (algo digital)' },
            { value: 3, label: '26-50% (mitad digital)' },
            { value: 4, label: '51-75% (mayor√≠a digital)' },
            { value: 5, label: '76-100% (casi todo digital)' }
          ]
        },
        {
          id: 'c3',
          text: '¬øGestiona digitalmente la relaci√≥n con sus clientes?',
          options: [
            { value: 1, label: 'No gestiono relaci√≥n con clientes' },
            { value: 2, label: 'Contactos en agenda/Excel' },
            { value: 3, label: 'CRM b√°sico' },
            { value: 4, label: 'CRM integrado con ventas' },
            { value: 5, label: 'CRM con IA y personalizaci√≥n' }
          ]
        },
        {
          id: 'c4',
          text: '¬øMonitorea digitalmente precios y tendencias de mercado?',
          options: [
            { value: 1, label: 'No monitoreo el mercado' },
            { value: 2, label: 'Consulta ocasional de precios' },
            { value: 3, label: 'Monitoreo regular manual' },
            { value: 4, label: 'Plataformas con alertas de precios' },
            { value: 5, label: 'IA predictiva de mercados' }
          ]
        },
        {
          id: 'c5',
          text: '¬øConoce las preferencias y historial de sus clientes?',
          options: [
            { value: 1, label: 'No tengo registro de clientes' },
            { value: 2, label: 'Memoria personal b√°sica' },
            { value: 3, label: 'Base de datos de clientes' },
            { value: 4, label: 'Historial completo digitalizado' },
            { value: 5, label: 'An√°lisis predictivo de comportamiento' }
          ]
        }
      ]
    },
    {
      id: 'finanzas',
      name: 'Gesti√≥n Financiera',
      icon: 'üí∞',
      color: '#ef4444',
      questions: [
        {
          id: 'f1',
          text: '¬øUtiliza software contable especializado?',
          options: [
            { value: 1, label: 'Registros manuales en papel' },
            { value: 2, label: 'Excel b√°sico' },
            { value: 3, label: 'Software contable est√°ndar' },
            { value: 4, label: 'ERP integrado' },
            { value: 5, label: 'Finanzas predictivas con IA' }
          ]
        },
        {
          id: 'f2',
          text: '¬øPuede acceder a informaci√≥n financiera en tiempo real?',
          options: [
            { value: 1, label: 'No, solo revisiones mensuales' },
            { value: 2, label: 'Reportes semanales manuales' },
            { value: 3, label: 'Reportes diarios digitales' },
            { value: 4, label: 'Dashboard financiero en tiempo real' },
            { value: 5, label: 'Anal√≠tica avanzada con alertas' }
          ]
        },
        {
          id: 'f3',
          text: '¬øGestiona digitalmente planillas y asistencia de personal?',
          options: [
            { value: 1, label: 'Control manual de asistencia' },
            { value: 2, label: 'Planillas b√°sicas en Excel' },
            { value: 3, label: 'Software de RRHH b√°sico' },
            { value: 4, label: 'Sistema integrado con biometr√≠a' },
            { value: 5, label: 'Plataforma con an√°lisis de productividad' }
          ]
        },
        {
          id: 'f4',
          text: '¬øUtiliza herramientas digitales para planificar su negocio?',
          options: [
            { value: 1, label: 'No tengo planificaci√≥n formal' },
            { value: 2, label: 'Presupuestos b√°sicos en papel' },
            { value: 3, label: 'Planificaci√≥n digital estructurada' },
            { value: 4, label: 'Modelos financieros din√°micos' },
            { value: 5, label: 'Planificaci√≥n predictiva con escenarios' }
          ]
        },
        {
          id: 'f5',
          text: '¬øEmite facturas electr√≥nicas?',
          options: [
            { value: 1, label: 'No, solo facturas en papel' },
            { value: 2, label: 'Algunas facturas digitales' },
            { value: 3, label: 'Mayor√≠a son electr√≥nicas' },
            { value: 4, label: '100% facturaci√≥n electr√≥nica' },
            { value: 5, label: 'Facturaci√≥n autom√°tica integrada' }
          ]
        }
      ]
    },
    {
      id: 'cultura',
      name: 'Cultura Digital',
      icon: 'üë•',
      color: '#ec4899',
      questions: [
        {
          id: 'cu1',
          text: '¬øSu equipo usa herramientas digitales con facilidad?',
          options: [
            { value: 1, label: 'Resistencia al cambio, sin habilidades' },
            { value: 2, label: 'Uso muy b√°sico de tecnolog√≠a' },
            { value: 3, label: 'Manejo de software espec√≠fico' },
            { value: 4, label: 'Adopci√≥n proactiva de tecnolog√≠a' },
            { value: 5, label: 'Innovaci√≥n continua, mentalidad digital' }
          ]
        },
        {
          id: 'cu2',
          text: '¬øQu√© porcentaje de empleados tiene smartphone?',
          options: [
            { value: 1, label: '0-20%' },
            { value: 2, label: '21-40%' },
            { value: 3, label: '41-60%' },
            { value: 4, label: '61-80%' },
            { value: 5, label: '81-100%' }
          ]
        },
        {
          id: 'cu3',
          text: '¬øCapacita regularmente a su equipo en tecnolog√≠a?',
          options: [
            { value: 1, label: 'No hay capacitaciones' },
            { value: 2, label: 'Capacitaci√≥n ocasional b√°sica' },
            { value: 3, label: 'Programa anual de capacitaci√≥n' },
            { value: 4, label: 'Capacitaci√≥n continua planificada' },
            { value: 5, label: 'Cultura de aprendizaje permanente' }
          ]
        },
        {
          id: 'cu4',
          text: '¬øLa gerencia promueve activamente la digitalizaci√≥n?',
          options: [
            { value: 1, label: 'L√≠deres reacios a tecnolog√≠a' },
            { value: 2, label: 'Conciencia pero sin acci√≥n' },
            { value: 3, label: 'Apoyo a iniciativas digitales' },
            { value: 4, label: 'L√≠deres impulsan transformaci√≥n' },
            { value: 5, label: 'Liderazgo visionario en innovaci√≥n' }
          ]
        },
        {
          id: 'cu5',
          text: '¬øQu√© % de ingresos invierte en tecnolog√≠a anualmente?',
          options: [
            { value: 1, label: '0% (sin inversi√≥n)' },
            { value: 2, label: '0.5-1% (muy poco)' },
            { value: 3, label: '2-3% (moderado)' },
            { value: 4, label: '4-5% (significativo)' },
            { value: 5, label: '6%+ (innovaci√≥n prioridad)' }
          ]
        }
      ]
    }
  ];

  const handleResponse = (questionId, value) => {
    setResponses({ ...responses, [questionId]: value });
  };

  const calculateDimensionScore = (dimension) => {
    const questionIds = dimension.questions.map(q => q.id);
    const scores = questionIds.map(id => responses[id] || 0);
    return scores.reduce((a, b) => a + b, 0);
  };

  const calculateTotalScore = () => {
    return dimensions.reduce((total, dim) => total + calculateDimensionScore(dim), 0);
  };

  const getMaxScore = () => dimensions.length * 5 * 5; // 5 dimensiones * 5 preguntas * 5 puntos m√°x

  const getDimensionLevel = (score) => {
    if (score <= 5) return { level: 1, label: 'An√°logo', color: '#ef4444' };
    if (score <= 10) return { level: 2, label: 'B√°sico', color: '#f59e0b' };
    if (score <= 15) return { level: 3, label: 'Establecido', color: '#eab308' };
    if (score <= 20) return { level: 4, label: 'Avanzado', color: '#3b82f6' };
    return { level: 5, label: 'L√≠der', color: '#10b981' };
  };

  const getOverallLevel = (totalScore) => {
    if (totalScore <= 30) return {
      level: 'Etapa An√°loga',
      color: '#ef4444',
      icon: 'üî¥',
      description: 'Empresa tradicional con procesos manuales',
      priority: 'URGENTE: Iniciar transformaci√≥n digital',
      actions: ['Digitalizar procesos b√°sicos', 'Capacitar equipo', 'Implementar software esencial'],
      timeframe: '18-24 meses al nivel 3'
    };
    if (totalScore <= 60) return {
      level: 'Inicio Digital',
      color: '#f59e0b',
      icon: 'üü°',
      description: 'Adopci√≥n b√°sica, herramientas aisladas',
      priority: 'Consolidar y estructurar sistemas',
      actions: ['Integrar sistemas existentes', 'Estandarizar procesos', 'Expandir capacitaci√≥n'],
      timeframe: '12-18 meses al nivel 3'
    };
    if (totalScore <= 90) return {
      level: 'Digital Establecido',
      color: '#eab308',
      icon: 'üü†',
      description: 'Procesos digitalizados funcionando',
      priority: 'Optimizar y automatizar',
      actions: ['Implementar anal√≠tica avanzada', 'Automatizar procesos', 'Explorar IoT'],
      timeframe: '12 meses al nivel 4'
    };
    if (totalScore <= 120) return {
      level: 'Digital Avanzado',
      color: '#3b82f6',
      icon: 'üîµ',
      description: 'L√≠der en adopci√≥n tecnol√≥gica',
      priority: 'Innovaci√≥n disruptiva',
      actions: ['Implementar IA', 'Agricultura de precisi√≥n', 'Blockchain'],
      timeframe: 'Innovaci√≥n continua'
    };
    return {
      level: 'L√≠der Digital',
      color: '#10b981',
      icon: 'üü¢',
      description: 'Referente del sector',
      priority: 'Mantener ventaja competitiva',
      actions: ['Explorar tecnolog√≠as emergentes', 'Mentor√≠a a otros', 'Innovaci√≥n radical'],
      timeframe: 'Liderazgo sostenido'
    };
  };

  const isStepComplete = () => {
    // Check if all questions in the current dimension are answered
    const currentDimension = dimensions[currentStep];
    return currentDimension.questions.every(q => responses[q.id] !== undefined);
  };

  const progressPercentage = () => {
    const totalQuestions = dimensions.reduce((sum, dim) => sum + dim.questions.length, 0);
    const answeredQuestions = Object.keys(responses).length;
    return (answeredQuestions / totalQuestions) * 100;
  };

  const getRadarData = () => {
    return dimensions.map(dim => ({
      dimension: dim.name.split(' ')[0], // Use first word for compact radar label
      score: calculateDimensionScore(dim),
      fullMark: 25 // Max score per dimension
    }));
  };

  const getBarData = () => {
    return dimensions.map(dim => {
      const score = calculateDimensionScore(dim);
      const level = getDimensionLevel(score);
      return {
        name: dim.icon + ' ' + dim.name,
        score: score,
        nivel: level.label,
        color: level.color
      };
    });
  };

  const resetEvaluation = () => {
    setResponses({});
    setCurrentStep(0);
    setShowResults(false);
    setCompanyName('');
  };

  const goToNextStep = () => {
    if (currentStep < dimensions.length - 1) {
      setCurrentStep(currentStep + 1);
    } else if (currentStep === dimensions.length - 1) {
      // Last step, show results
      setShowResults(true);
    }
  };

  const goToPrevStep = () => {
    if (currentStep > 0) {
      setCurrentStep(currentStep - 1);
    }
  };

  if (showResults) {
    const totalScore = calculateTotalScore();
    const overallLevel = getOverallLevel(totalScore);
    const radarData = getRadarData();
    const barData = getBarData();

    // NOTA: Los componentes de Lucide (p. ej., <RefreshCw />) y Recharts (p. ej., <RadarChart />) fallar√°n aqu√≠.
    // He puesto el texto de la alerta de prioridad directamente ya que el componente <AlertCircle /> fallar√°
    const AlertCircleFallback = () => <span style={{color: '#fbbf24', fontSize: '1.5rem', marginRight: '0.75rem'}}>‚ö†Ô∏è</span>;
    const CheckCircleFallback = () => <span style={{color: '#10b981', marginRight: '0.5rem'}}>‚úì</span>;
    const RefreshCwFallback = () => <span>üîÑ</span>;
    const TrendingUpFallback = () => <span>üìà</span>;
    const DownloadFallback = () => <span>üíæ</span>;
    const AwardFallback = () => <span>üèÜ</span>;

    // Se asume que Recharts est√° disponible como variable global o se ignora el error si no est√°.
    // Para simplificar y no bloquear el renderizado, usaremos una versi√≥n simple de los componentes de Recharts.
    // Esto es un placeholder, el usuario DEBER√Å incluir un CDN funcional para Recharts.
    const PlaceholderChart = ({ title }) => (
        <div style={{height: '400px', display: 'flex', alignItems: 'center', justifyContent: 'center', backgroundColor: '#f0f4f8', borderRadius: '12px', border: '1px solid #e2e8f0'}}>
            <p style={{color: '#475569', fontSize: '1.2rem', textAlign: 'center'}}>
                {title} (Gr√°fico no disponible) <br/> 
                <span style={{fontSize: '0.9rem'}}>Falta incluir el CDN o librer√≠a de **Recharts**</span>
            </p>
        </div>
    );


    return (
      <div className="min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 p-4">
        <div className="max-w-7xl mx-auto">
          {/* Header */}
          <div className="bg-white rounded-2xl shadow-xl p-8 mb-6">
            <div className="flex items-center justify-between mb-4">
              <div>
                <h1 className="text-4xl font-bold text-gray-800 mb-2">
                  Resultados de Madurez Digital
                </h1>
                <p className="text-xl text-gray-600">{companyName}</p>
              </div>
              <button
                onClick={resetEvaluation}
                className="flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"
              >
                <RefreshCwFallback />
                Nueva Evaluaci√≥n
              </button>
            </div>
            
            {/* Score General */}
            <div className="bg-gradient-to-r from-green-100 to-blue-100 rounded-xl p-6 mb-6">
              <div className="flex items-center justify-between">
                <div>
                  <p className="text-gray-600 text-lg mb-2">Puntaje Total</p>
                  <p className="text-6xl font-bold" style={{ color: overallLevel.color }}>
                    {totalScore}<span className="text-3xl text-gray-500">/{getMaxScore()}</span>
                  </p>
                </div>
                <div className="text-right">
                  <p className="text-8xl mb-2">{overallLevel.icon}</p>
                  <p className="text-2xl font-bold" style={{ color: overallLevel.color }}>
                    {overallLevel.level}
                  </p>
                </div>
              </div>
              <div className="mt-4 p-4 bg-white rounded-lg">
                <p className="text-gray-700 text-lg">{overallLevel.description}</p>
                <p className="text-gray-600 mt-2">
                  <strong>Tiempo estimado:</strong> {overallLevel.timeframe}
                </p>
              </div>
            </div>

            {/* Priority Alert */}
            <div className="bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-lg mb-6">
              <div className="flex items-start">
                <AlertCircleFallback />
                <div>
                  <p className="font-bold text-yellow-800 text-lg">{overallLevel.priority}</p>
                  <ul className="mt-2 space-y-1">
                    {overallLevel.actions.map((action, idx) => (
                      <li key={idx} className="text-yellow-700 flex items-center">
                        <CheckCircleFallback />
                        {action}
                      </li>
                    ))}
                  </ul>
                </div>
              </div>
            </div>
          </div>

          {/* Charts Section */}
          <div className="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
            {/* Radar Chart */}
            <div className="bg-white rounded-2xl shadow-xl p-6">
              <h2 className="text-2xl font-bold text-gray-800 mb-4">Perfil de Madurez</h2>
              {/* <ResponsiveContainer width="100%" height={400}>
                <RadarChart data={radarData}>
                  <PolarGrid />
                  <PolarAngleAxis dataKey="dimension" />
                  <PolarRadiusAxis angle={90} domain={[0, 25]} />
                  <Radar
                    name="Su empresa"
                    dataKey="score"
                    stroke="#10b981"
                    fill="#10b981"
                    fillOpacity={0.6}
                  />
                  <Tooltip />
                </RadarChart>
              </ResponsiveContainer> */}
              <PlaceholderChart title="Gr√°fico Radar" />
            </div>

            {/* Bar Chart */}
            <div className="bg-white rounded-2xl shadow-xl p-6">
              <h2 className="text-2xl font-bold text-gray-800 mb-4">Puntaje por Dimensi√≥n</h2>
              {/* <ResponsiveContainer width="100%" height={400}>
                <BarChart data={barData} layout="vertical">
                  <CartesianGrid strokeDasharray="3 3" />
                  <XAxis type="number" domain={[0, 25]} />
                  <YAxis type="category" dataKey="name" width={150} />
                  <Tooltip />
                  <Bar dataKey="score" fill="#10b981" radius={[0, 8, 8, 0]}>
                    {barData.map((entry, index) => (
                      <Bar key={`bar-${index}`} fill={entry.color} />
                    ))}
                  </Bar>
                </BarChart>
              </ResponsiveContainer> */}
              <PlaceholderChart title="Gr√°fico de Barras" />
            </div>
          </div>

          {/* Dimension Details */}
          <div className="bg-white rounded-2xl shadow-xl p-8">
            <h2 className="text-3xl font-bold text-gray-800 mb-6">An√°lisis Detallado por Dimensi√≥n</h2>
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
              {dimensions.map((dim) => {
                const score = calculateDimensionScore(dim);
                const level = getDimensionLevel(score);
                return (
                  <div key={dim.id} className="border-2 rounded-xl p-6" style={{ borderColor: dim.color }}>
                    <div className="flex items-center justify-between mb-4">
                      <span className="text-4xl">{dim.icon}</span>
                      <span className="text-3xl font-bold" style={{ color: dim.color }}>
                        {score}/25
                      </span>
                    </div>
                    <h3 className="font-bold text-lg text-gray-800 mb-2">{dim.name}</h3>
                    <div className="flex items-center gap-2 mb-3">
                      <div className="w-full bg-gray-200 rounded-full h-3">
                        <div
                          className="h-3 rounded-full transition-all"
                          style={{
                            width: `${(score / 25) * 100}%`,
                            backgroundColor: level.color
                          }}
                        />
                      </div>
                    </div>
                    <p className="text-sm font-semibold" style={{ color: level.color }}>
                      Nivel {level.level}: {level.label}
                    </p>
                  </div>
                );
              })}
            </div>
          </div>

          {/* Recommendations */}
          <div className="bg-white rounded-2xl shadow-xl p-8 mt-6">
            <h2 className="text-3xl font-bold text-gray-800 mb-6 flex items-center gap-3">
              <TrendingUpFallback />
              Pr√≥ximos Pasos Recomendados
            </h2>
            <div className="space-y-4">
              {dimensions
                .map(dim => ({
                  ...dim,
                  score: calculateDimensionScore(dim)
                }))
                .sort((a, b) => a.score - b.score)
                .slice(0, 3)
                .map((dim, idx) => {
                  const level = getDimensionLevel(dim.score);
                  return (
                    <div key={dim.id} className="flex items-start gap-4 p-4 bg-gray-50 rounded-lg">
                      <div className="flex-shrink-0 w-12 h-12 bg-gradient-to-br from-green-500 to-blue-500 rounded-full flex items-center justify-center text-white font-bold text-xl">
                        {idx + 1}
                      </div>
                      <div className="flex-1">
                        <h3 className="font-bold text-lg text-gray-800 mb-1">
                          {dim.icon} Mejorar {dim.name}
                        </h3>
                        <p className="text-gray-600 mb-2">
                          Actualmente en <strong>{level.label}</strong> con {dim.score}/25 puntos
                        </p>
                        <p className="text-sm text-gray-500">
                          Esta es una de sus √°reas con mayor oportunidad de mejora. Priorice acciones aqu√≠ para obtener resultados r√°pidos.
                        </p>
                      </div>
                    </div>
                  );
                })}
            </div>
          </div>

          {/* Action Button */}
          <div className="mt-8 text-center">
            <button
              onClick={() => window.print()}
              className="inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-green-600 to-blue-600 text-white text-lg font-bold rounded-xl hover:from-green-700 hover:to-blue-700 transition-all shadow-lg"
            >
              <DownloadFallback />
              Descargar Reporte PDF
            </button>
            <p className="text-gray-500 mt-4 text-sm">
              Presione Ctrl+P (Windows) o Cmd+P (Mac) para guardar como PDF
            </p>
          </div>
        </div>
      </div>
    );
  }

  // Evaluation Form
  const currentDimension = dimensions[currentStep];
  const progress = progressPercentage();

    // Iconos de Lucide (p. ej., <ChevronRight />) fallar√°n aqu√≠, usando fallback de texto
    const ChevronLeftFallback = () => <span>‚Üê</span>;
    const ChevronRightFallback = () => <span>‚Üí</span>;

  return (
    <div className="min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 p-4">
      <div className="max-w-4xl mx-auto">
        {/* Header */}
        <div className="bg-white rounded-2xl shadow-xl p-8 mb-6">
          <div className="flex items-center justify-between mb-6">
            <div>
              <h1 className="text-4xl font-bold text-gray-800 mb-2">
                üåæ Evaluaci√≥n de Madurez Digital
              </h1>
              <p className="text-lg text-gray-600">Sector Agropecuario</p>
            </div>
            <div className="text-right">
              <p className="text-sm text-gray-500">Progreso General</p>
              <p className="text-3xl font-bold text-green-600">{Math.round(progress)}%</p>
            </div>
          </div>
          
          {/* Progress Bar */}
          <div className="w-full bg-gray-200 rounded-full h-3 mb-6">
            <div
              className="bg-gradient-to-r from-green-500 to-blue-500 h-3 rounded-full transition-all duration-500"
              style={{ width: `${progress}%` }}
            />
          </div>

          {/* Company Name Input (Only on first step if not yet answered) */}
          {currentStep === 0 && Object.keys(responses).length === 0 && (
            <div className="mb-6 p-6 bg-blue-50 rounded-xl">
              <label className="block text-lg font-semibold text-gray-700 mb-3">
                Nombre de su empresa:
              </label>
              <input
                type="text"
                value={companyName}
                onChange={(e) => setCompanyName(e.target.value)}
                placeholder="Ej: Agr√≠cola San Jos√©"
                className="w-full px-4 py-3 text-lg border-2 border-blue-300 rounded-lg focus:outline-none focus:border-blue-500"
              />
            </div>
          )}

          {/* Dimension Progress */}
          <div className="flex items-center justify-between mb-4">
            <h2 className="text-2xl font-bold text-gray-800 flex items-center gap-3">
              <span className="text-4xl">{currentDimension.icon}</span>
              {currentDimension.name}
            </h2>
            <span className="text-lg font-semibold text-gray-600">
              Dimensi√≥n {currentStep + 1} de {dimensions.length}
            </span>
          </div>
        </div>

        {/* Questions */}
        <div className="space-y-6">
          {currentDimension.questions.map((question, qIdx) => {
            const isAnswered = responses[question.id] !== undefined;
            return (
              <div
                key={question.id}
                className={`bg-white rounded-xl shadow-lg p-6 transition-all ${
                  isAnswered ? 'border-2 border-green-500' : 'border-2 border-transparent'
                }`}
              >
                <div className="flex items-start gap-4 mb-4">
                  <div className="flex-shrink-0 w-10 h-10 bg-gradient-to-br from-green-500 to-blue-500 rounded-full flex items-center justify-center text-white font-bold">
                    {qIdx + 1}
                  </div>
                  <div className="flex-1">
                    <p className="text-xl font-semibold text-gray-800">{question.text}</p>
                  </div>
                </div>

                {/* Options */}
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                  {question.options.map((option) => (
                    <button
                      key={option.value}
                      onClick={() => handleResponse(question.id, option.value)}
                      className={`
                        p-4 rounded-lg text-left transition-all duration-200 border-2
                        ${
                          responses[question.id] === option.value
                            ? 'bg-green-100 border-green-600 text-green-800 font-bold shadow-md'
                            : 'bg-gray-50 border-gray-200 text-gray-700 hover:bg-gray-100'
                        }
                      `}
                    >
                      <span className="font-mono text-sm mr-2" style={{ color: currentDimension.color }}>
                        {option.value}
                      </span>
                      {option.label}
                    </button>
                  ))}
                </div>
              </div>
            );
          })}
        </div>

        {/* Navigation Buttons */}
        <div className="mt-8 flex justify-between p-4 bg-white rounded-xl shadow-lg">
          <button
            onClick={goToPrevStep}
            disabled={currentStep === 0}
            className={`
              flex items-center gap-2 px-6 py-3 rounded-lg font-bold transition-all
              ${
                currentStep === 0
                  ? 'bg-gray-300 text-gray-500 cursor-not-allowed'
                  : 'bg-blue-500 text-white hover:bg-blue-600'
              }
            `}
          >
            <ChevronLeftFallback />
            Anterior
          </button>

          <button
            onClick={goToNextStep}
            disabled={!isStepComplete() || (currentStep === 0 && companyName.trim() === '')}
            className={`
              flex items-center gap-2 px-6 py-3 rounded-lg font-bold transition-all
              ${
                !isStepComplete() || (currentStep === 0 && companyName.trim() === '')
                  ? 'bg-gray-300 text-gray-500 cursor-not-allowed'
                  : currentStep < dimensions.length - 1
                  ? 'bg-green-500 text-white hover:bg-green-600'
                  : 'bg-purple-600 text-white hover:bg-purple-700'
              }
            `}
          >
            {currentStep < dimensions.length - 1 ? (
              <>
                Siguiente
                <ChevronRightFallback />
              </>
            ) : (
              <>
                Ver Resultados
                <AwardFallback />
              </>
            )}
          </button>
        </div>
      </div>
    </div>
  );
};
        // Fin del contenido de MadurezDigitalAgro.jsx

        // Inicializaci√≥n de la aplicaci√≥n React
        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        // El componente principal se renderiza aqu√≠
        root.render(<MadurezDigitalAgro />);

    </script>
</body>
</html>
